<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2025 Lunar Gala Archive</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¾</text></svg>">

  </head>
  <body>
    <style>
      .fade-in {
        opacity: 0;
        transition: opacity 1s ease-in;
      }

      .fade-in.loaded {
        opacity: 1;
      }

      .media-wrapper {
        display: inline-block;
        text-align: left;
      }

      .mobile-desc {
          display: none;
        }

      @media (max-width: 768px) {
        .mobile-warning {
            display: none;
        }
        
        .mobile-desc {
          display: block;
        }

        .two-col-desc {
          position: relative;
        }

      }

    </style>

    <div class = "header">
      <h2>Archive: Elysium 2025</h2>
    </div>
    <div class = "two-col-desc">
        <p class = "asset-desc">Assetâ€“Nameâ€“Department</p>
        <a target = "_blank" href = "https://github.com/lunar-gala/2025-archive?tab=readme-ov-file#how-to-update"><p id = "how-to-update">How to Update?</p></a>
    </div>

    <div class="container">
      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/recupera%20se%20yujin%20lee.jpg?v=1746939861198"
        data-desc="Recupera Seâ€“Yujin Leeâ€“Photo"
      />

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/booklet%20-%20print.mp4?v=1746939122854" 
        data-desc="Bookletâ€“Print"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/celestial%20vanity%20chieri%20nnadozie.jpg?v=1746939485862"
        data-desc="Celestial Vanityâ€“Chieri Nnadozieâ€“Photo"
      />

      <img loading = "lazy"
      src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/avarice%20lauren%20cho.jpg?v=1746939648480"
      data-desc="Avariceâ€“Lauren Choâ€“Photo"
      />

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/follow%20me%20through%20it%20all%20-%20motion.mp4?v=1746938881249" 
        data-desc="Follow Me Through It Allâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/alumni%20-%20motion.mp4?v=1746938802600" 
        data-desc="Alumniâ€“Motion"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/ka%20lauren%20cho.jpg?v=1746939464062"
        data-desc="Kaâ€“Lauren Choâ€“Photo"
      />

      <img loading = "lazy"
      src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/pado%20annie%20zhang.jpg?v=1746939747398"
      data-desc="Padoâ€“Annie Zhangâ€“Photo"
    />

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/ka%20-%20motion.mp4?v=1746938681134" 
        data-desc="Kaâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/Pado.mp4?v=1746897635142" 
        data-desc="Padoâ€“Motion"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/stage_sebastian.png?v=1743088538529"
        data-desc="Stage Planâ€“Sebastian Zavalzaâ€“Stage"
      />

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/shattered%20silk%20-%20motion.mp4?v=1746938585657" 
        data-desc="Shattered Silkâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/soulstylz%20-%20motion.mp4?v=1746938484827" 
        data-desc="Soulstylzâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/Balance%20-%20Karis%20Choe.mp4?v=1746897151213" 
        data-desc="Balanceâ€“Karis Choeâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/a1s4%20-%20karis%20choe.mp4?v=1746938405128" 
        data-desc="Act 1, Scene 4â€“Karis Choeâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/preloader%20-%20Xiao%20Yuan.mp4?v=1746896908183" 
        data-desc="Preloaderâ€“Xiao Yuanâ€“Web"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/east%20meets%20west%20erin%20hsu.jpg?v=1746939661051"
        data-desc="East Meets Westâ€“Erin Hsuâ€“Photo"
      />

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/balance%20eunice%20lai.jpg?v=1746939674690"
        data-desc="Balanceâ€“Eunice Laiâ€“Photo"
      />

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/immensity%20yiwen%20jiang.JPG?v=1746900303121"
        data-desc="Immensityâ€“Yiwen Jiangâ€“Photo"
      />

      <img loading = "lazy"
      src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/reverie%20chieri%20nnadozie.jpg?v=1746939502584"
      data-desc="Reverieâ€“Chieri Nnadozieâ€“Photo"
     />

      <video preload = "none" 
        src="https://cdn.glitch.me/18bcd403-d69a-48ad-be8b-1e721ec4617f/elysium_sketch_1.mp4?v=1745560180566" 
        data-desc="Site Backdropâ€“Suanna Zhongâ€“Web"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/final%20flood%20-%20motion.mp4?v=1746938309345" 
        data-desc="Final Floodâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/recupera%20se%20-%20Deeptika%20Mandha.mp4?v=1746896442412" 
        data-desc="Recupera Seâ€“Deeptika Mandhaâ€“Motion" 
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/rock%20and%20water%20-%20deeptika%20mandha.mp4?v=1746938157297" 
        data-desc="Rock and Waterâ€“Deeptika Mandhaâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/Water%20Droplet%20-%20Deeptika%20Mandha.MP4?v=1746896595466" 
        data-desc="Water Dropletâ€“Deeptika Mandhaâ€“Motion"
        muted autoplay loop>
      </video>

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/Self_Love%20-%20Deeptika%20Mandha.MP4?v=1746896665574" 
        data-desc="Self Loveâ€“Deeptika Mandhaâ€“Motion"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/eve%20perry%20chen.jpg?v=1746939438864"
        data-desc="Eveâ€“Perry Chenâ€“Photo"
      />

      <video preload = "none" 
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/mushrooms%20-%20Karis%20Choe.mp4?v=1746897173740" 
        data-desc="Mushroomsâ€“Karis Choeâ€“Motion"
        muted autoplay loop>
      </video>

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/follow%20me%20through%20it%20all%20annie%20zhang.JPG?v=1746900121323"
        data-desc="Follow Me Through It Allâ€“Annie Zhangâ€“Photo"
      />

      <img loading = "lazy"
        src="https://cdn.glitch.global/04c02ba6-aba5-4646-90d8-da994f6a30b3/self%20love%20chieri%20nnadozie.jpg?v=1746939844250"
        data-desc="Self Loveâ€“Chieri Nnadozieâ€“Photo"
      />
    </div>

    <div class = "footer">
      <div id = "landing-page">
        <p>
          Landing pages by <a target = "_blank" href = "https://www.instagram.com/ernhsu/">Erin Hsu</a>, <a target = "_blank" href = "https://www.emmadeng.com/">Emma Deng</a>, Gian Lee, and <a target = "_blank" href = "https://www.arinp.me/">Arin Pantja</a>.<br>
          <a href="../index.html">Go back to landing page</a>
        </p>
      </div>
      <p id = "kaitlyn-suanna">
        <a target = "_blank" href = "https://kaitlynng.com/">Kaitlyn Ng</a> and <a target = "_blank" href = "https://suannazhong.com/">Suanna Zhong</a> Â© 
        2025</p>
    </div>  
      
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (window.innerWidth < 768) {
        const mediaElements = document.querySelectorAll("video, img");

        mediaElements.forEach((el) => {
          const descText = el.getAttribute("data-desc");
          if (descText) {
            const desc = document.createElement("p");
            desc.className = "mobile-desc";
            desc.textContent = descText;
            el.insertAdjacentElement("afterend", desc);
          }
        });
      }
        // Fade in images
        document.querySelectorAll(".container img").forEach((img) => {
          img.classList.add("fade-in");
          img.addEventListener("load", () => {
            img.classList.add("loaded");
          });
        });

        // Fade in videos
        document.querySelectorAll(".container video").forEach((video) => {
          video.classList.add("fade-in");
          video.addEventListener("loadeddata", () => {
            video.classList.add("loaded");
          });
        });


        const images = document.querySelectorAll(".container img");
        const infoText = document.querySelector(".asset-desc");
        const videos = document.querySelectorAll("video");

        videos.forEach((video) => {
          const desc = video.getAttribute("data-desc");

          video.addEventListener("mouseenter", () => {
            infoText.textContent = desc;
          });

          video.addEventListener("mouseleave", () => {
            infoText.textContent = "Assetâ€“Nameâ€“Department";
          });
        });


        images.forEach((img) => {
          const desc = img.getAttribute("data-desc");

          img.addEventListener("mouseenter", () => {
            infoText.textContent = desc;
          });

          img.addEventListener("mouseleave", () => {
            infoText.textContent = "Assetâ€“Nameâ€“Department";
          });
        });

        document.body.insertAdjacentHTML(
          "beforeend",
          '<div id="fade-overlay"></div>'
        );

        setTimeout(() => {
          document.body.classList.add("fade-in");
        }, 10);

        document.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", (event) => {
            if (link.hostname === window.location.hostname) {
              event.preventDefault();
              document.body.classList.add("fade-out");
              setTimeout(() => {
                window.location = link.href;
              }, 1000);
            }
          });
        });
      });

      // Add preconnect for CDN domains to speed up connection establishment
      function addPreconnects() {
          const domains = ['cdn.glitch.global', 'cdn.glitch.me'];
          domains.forEach(domain => {
            const link = document.createElement('link');
            link.rel = 'preconnect';
            link.href = `https://${domain}`;
            document.head.appendChild(link);
          });
        }
        addPreconnects();

        // IMAGE OPTIMIZATION
        const images = document.querySelectorAll(".container img");
        
        // Process images - load first 4 immediately, lazy load the rest
        images.forEach((img, index) => {
          img.classList.add("fade-in");
        
          if (img.complete) {
            img.classList.add("loaded");
          } else {
            img.addEventListener("load", () => {
              img.classList.add("loaded");
            });
          }
        
          if (index >= 4) {
            if (!img.classList.contains("loading-monitored")) {
              img.classList.add("loading-monitored");
            }
          }
        });
        
        // VIDEO OPTIMIZATION
        const videoContainers = document.querySelectorAll("[data-video-container]");
        const initialLoadCount = 2; 
        
        // 1. LOADING OBSERVER: Detect when to load video files
        const loadObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const container = entry.target;
              const video = container.querySelector("video");
              loadVideo(video, container);
              loadObserver.unobserve(container);
            }
          });
        }, { rootMargin: "200px 0px" });
        
        // 2. PLAY/PAUSE OBSERVER: Control playback based on visibility
        const playbackObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            const video = entry.target;
            
            if (video.getAttribute("src")) {
              if (entry.isIntersecting) {
                video.play().catch(e => console.log("Autoplay prevented:", e));
              } else {
                video.pause();
              }
            }
          });
        }, { threshold: 0.2 }); 
        
        function loadVideo(video, container) {
          const videoSrc = video.getAttribute("data-src");
          if (videoSrc) {
            video.setAttribute("src", videoSrc);
            video.classList.add("fade-in");
          
            video.addEventListener("loadeddata", () => {
              container.classList.remove("placeholder");
              container.querySelector(".loading-indicator")?.remove();
              
              video.classList.add("loaded");
              playbackObserver.observe(video);
              if (isElementInViewport(video)) {
                video.play().catch(e => console.log("Autoplay prevented:", e));
              }
            });
            video.load();
          }
        }

        function isElementInViewport(el) {
          const rect = el.getBoundingClientRect();
          return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
          );
        }
        
        for (let i = 0; i < Math.min(initialLoadCount, videoContainers.length); i++) {
          const container = videoContainers[i];
          const video = container.querySelector("video");
          loadVideo(video, container);
        }
        
        for (let i = initialLoadCount; i < videoContainers.length; i++) {
          loadObserver.observe(videoContainers[i]);
        }
        
    </script>
  </body>
</html>
